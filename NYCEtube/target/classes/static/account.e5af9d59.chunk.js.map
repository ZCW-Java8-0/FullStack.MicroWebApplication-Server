{"version":3,"file":"account.e5af9d59.chunk.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;AAAA;AACA;AACA;AAMA;AACA;AAGA;AAMA;AACA;AACA;AACA;AAIA;AACA;AAMA;AACA;AACA;AACA;AACA;AAGA;AAQA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;AC7FA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAMA;AAEA;AAEA;AACA;AACA;;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AAGA;AAMA;AACA;AACA;AACA;AAGA;AAMA;AACA;AACA;AACA;AACA;AAGA;AAQA;AAEA","sources":["webpack://nyc-etube/./src/main/webapp/app/modules/account/index.tsx","webpack://nyc-etube/./src/main/webapp/app/modules/account/password/password.tsx","webpack://nyc-etube/./src/main/webapp/app/modules/account/settings/settings.tsx"],"sourcesContent":["import React from 'react';\n\nimport ErrorBoundaryRoute from 'app/shared/error/error-boundary-route';\n\nimport Settings from './settings/settings';\nimport Password from './password/password';\n\nconst Routes = ({ match }) => (\n  <div>\n    <ErrorBoundaryRoute path={`${match.url}/settings`} component={Settings} />\n    <ErrorBoundaryRoute path={`${match.url}/password`} component={Password} />\n  </div>\n);\n\nexport default Routes;\n","import React, { useState, useEffect } from 'react';\nimport { ValidatedField, ValidatedForm } from 'react-jhipster';\nimport { Row, Col, Button } from 'reactstrap';\nimport { toast } from 'react-toastify';\n\nimport { useAppDispatch, useAppSelector } from 'app/config/store';\nimport { getSession } from 'app/shared/reducers/authentication';\nimport PasswordStrengthBar from 'app/shared/layout/password/password-strength-bar';\nimport { savePassword, reset } from './password.reducer';\n\nexport const PasswordPage = () => {\n  const [password, setPassword] = useState('');\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(reset());\n    dispatch(getSession());\n    return () => {\n      dispatch(reset());\n    };\n  }, []);\n\n  const handleValidSubmit = ({ currentPassword, newPassword }) => {\n    dispatch(savePassword({ currentPassword, newPassword }));\n  };\n\n  const updatePassword = event => setPassword(event.target.value);\n\n  const account = useAppSelector(state => state.authentication.account);\n  const successMessage = useAppSelector(state => state.password.successMessage);\n  const errorMessage = useAppSelector(state => state.password.errorMessage);\n\n  useEffect(() => {\n    if (successMessage) {\n      toast.success(successMessage);\n    } else if (errorMessage) {\n      toast.error(errorMessage);\n    }\n  }, [successMessage, errorMessage]);\n\n  return (\n    <div>\n      <Row className=\"justify-content-center\">\n        <Col md=\"8\">\n          <h2 id=\"password-title\">Password for {account.login}</h2>\n          <ValidatedForm id=\"password-form\" onSubmit={handleValidSubmit}>\n            <ValidatedField\n              name=\"currentPassword\"\n              label=\"Current password\"\n              placeholder={'Current password'}\n              type=\"password\"\n              validate={{\n                required: { value: true, message: 'Your password is required.' },\n              }}\n              data-cy=\"currentPassword\"\n            />\n            <ValidatedField\n              name=\"newPassword\"\n              label=\"New password\"\n              placeholder={'New password'}\n              type=\"password\"\n              validate={{\n                required: { value: true, message: 'Your password is required.' },\n                minLength: { value: 4, message: 'Your password is required to be at least 4 characters.' },\n                maxLength: { value: 50, message: 'Your password cannot be longer than 50 characters.' },\n              }}\n              onChange={updatePassword}\n              data-cy=\"newPassword\"\n            />\n            <PasswordStrengthBar password={password} />\n            <ValidatedField\n              name=\"confirmPassword\"\n              label=\"New password confirmation\"\n              placeholder=\"Confirm the new password\"\n              type=\"password\"\n              validate={{\n                required: { value: true, message: 'Your confirmation password is required.' },\n                minLength: { value: 4, message: 'Your confirmation password is required to be at least 4 characters.' },\n                maxLength: { value: 50, message: 'Your confirmation password cannot be longer than 50 characters.' },\n                validate: v => v === password || 'The password and its confirmation do not match!',\n              }}\n              data-cy=\"confirmPassword\"\n            />\n            <Button color=\"success\" type=\"submit\" data-cy=\"submit\">\n              Save\n            </Button>\n          </ValidatedForm>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default PasswordPage;\n","import React, { useEffect } from 'react';\nimport { Button, Col, Row } from 'reactstrap';\nimport { ValidatedField, ValidatedForm, isEmail } from 'react-jhipster';\nimport { toast } from 'react-toastify';\n\nimport { useAppDispatch, useAppSelector } from 'app/config/store';\nimport { getSession } from 'app/shared/reducers/authentication';\nimport { saveAccountSettings, reset } from './settings.reducer';\n\nexport const SettingsPage = () => {\n  const dispatch = useAppDispatch();\n  const account = useAppSelector(state => state.authentication.account);\n  const successMessage = useAppSelector(state => state.settings.successMessage);\n\n  useEffect(() => {\n    dispatch(getSession());\n    return () => {\n      dispatch(reset());\n    };\n  }, []);\n\n  useEffect(() => {\n    if (successMessage) {\n      toast.success(successMessage);\n    }\n  }, [successMessage]);\n\n  const handleValidSubmit = values => {\n    dispatch(\n      saveAccountSettings({\n        ...account,\n        ...values,\n      })\n    );\n  };\n\n  return (\n    <div>\n      <Row className=\"justify-content-center\">\n        <Col md=\"8\">\n          <h2 id=\"settings-title\">User settings for {account.login}</h2>\n          <ValidatedForm id=\"settings-form\" onSubmit={handleValidSubmit} defaultValues={account}>\n            <ValidatedField\n              name=\"firstName\"\n              label=\"First Name\"\n              id=\"firstName\"\n              placeholder=\"Your first name\"\n              validate={{\n                required: { value: true, message: 'Your first name is required.' },\n                minLength: { value: 1, message: 'Your first name is required to be at least 1 character' },\n                maxLength: { value: 50, message: 'Your first name cannot be longer than 50 characters' },\n              }}\n              data-cy=\"firstname\"\n            />\n            <ValidatedField\n              name=\"lastName\"\n              label=\"Last Name\"\n              id=\"lastName\"\n              placeholder=\"Your last name\"\n              validate={{\n                required: { value: true, message: 'Your last name is required.' },\n                minLength: { value: 1, message: 'Your last name is required to be at least 1 character' },\n                maxLength: { value: 50, message: 'Your last name cannot be longer than 50 characters' },\n              }}\n              data-cy=\"lastname\"\n            />\n            <ValidatedField\n              name=\"email\"\n              label=\"Email\"\n              placeholder={'Your email'}\n              type=\"email\"\n              validate={{\n                required: { value: true, message: 'Your email is required.' },\n                minLength: { value: 5, message: 'Your email is required to be at least 5 characters.' },\n                maxLength: { value: 254, message: 'Your email cannot be longer than 50 characters.' },\n                validate: v => isEmail(v) || 'Your email is invalid.',\n              }}\n              data-cy=\"email\"\n            />\n            <Button color=\"primary\" type=\"submit\" data-cy=\"submit\">\n              Save\n            </Button>\n          </ValidatedForm>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default SettingsPage;\n"],"names":[],"sourceRoot":""}